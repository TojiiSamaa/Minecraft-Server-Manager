# ============================================================================
# TEMPLATE DES VARIABLES D'ENVIRONNEMENT
# ============================================================================
# Ce fichier sert de template pour la configuration du projet.
# Les placeholders {{...}} seront remplacés automatiquement par le script setup.
#
# IMPORTANT: Ne jamais commiter le fichier .env final dans git !
# ============================================================================

# ============================================================================
# SECTION 1: GENERAL
# Configuration générale du projet
# ============================================================================

# Nom du projet (utilisé pour les conteneurs Docker, logs, etc.)
PROJECT_NAME={{PROJECT_NAME}}

# Environnement d'exécution
# Valeurs possibles: development, staging, production
# - development: logs verbeux, hot-reload activé, checks de sécurité relaxés
# - staging: configuration proche de la production pour les tests
# - production: optimisations activées, logs minimaux, sécurité renforcée
NODE_ENV={{NODE_ENV}}

# Fuseau horaire du serveur
# Format: Region/City (ex: Europe/Paris, America/New_York, UTC)
# Affecte les timestamps des logs, sauvegardes planifiées, etc.
TZ={{TIMEZONE}}

# Niveau de log global
# Valeurs possibles: debug, info, warn, error
# - debug: tous les messages (développement uniquement)
# - info: informations générales + warnings + erreurs
# - warn: avertissements + erreurs uniquement
# - error: erreurs critiques uniquement
LOG_LEVEL={{LOG_LEVEL}}

# Domaine principal (pour les URLs publiques et certificats SSL)
DOMAIN={{DOMAIN}}

# ============================================================================
# SECTION 2: DISCORD
# Configuration du bot Discord et de l'authentification OAuth2
# ============================================================================

# Token d'authentification du bot Discord
# Obtenir sur: https://discord.com/developers/applications
# ATTENTION: Ne jamais partager ce token !
DISCORD_TOKEN={{DISCORD_TOKEN}}

# ID du serveur Discord principal (Guild ID)
# Clic droit sur le serveur > Copier l'identifiant (mode développeur requis)
DISCORD_GUILD_ID={{DISCORD_GUILD_ID}}

# ID de l'application Discord (Client ID)
# Disponible dans Discord Developer Portal > OAuth2
DISCORD_CLIENT_ID={{DISCORD_CLIENT_ID}}

# Secret client pour OAuth2
# Disponible dans Discord Developer Portal > OAuth2
# Utilisé pour l'authentification des utilisateurs sur le panel web
DISCORD_CLIENT_SECRET={{DISCORD_CLIENT_SECRET}}

# ID du rôle administrateur
# Les membres avec ce rôle ont un accès complet au bot et au panel
DISCORD_ADMIN_ROLE_ID={{DISCORD_ADMIN_ROLE_ID}}

# ID du rôle modérateur
# Les membres avec ce rôle ont un accès limité (gestion joueurs, kicks, etc.)
DISCORD_MOD_ROLE_ID={{DISCORD_MOD_ROLE_ID}}

# ID du rôle VIP
# Les membres avec ce rôle ont accès aux commandes VIP
DISCORD_VIP_ROLE_ID={{DISCORD_VIP_ROLE_ID}}

# IDs des propriétaires du bot (séparés par des virgules)
# Ces utilisateurs ont un accès complet à toutes les commandes
DISCORD_OWNER_IDS={{DISCORD_OWNER_IDS}}

# Préfixe des commandes textuelles (si activées)
# Exemple: !help, !status, !players
DISCORD_PREFIX={{DISCORD_PREFIX}}

# Canal pour les logs du bot
DISCORD_LOG_CHANNEL_ID={{DISCORD_LOG_CHANNEL_ID}}

# Canal pour les notifications de statut serveur
DISCORD_STATUS_CHANNEL_ID={{DISCORD_STATUS_CHANNEL_ID}}

# Canal pour le chat bridge Minecraft <-> Discord
DISCORD_CHAT_CHANNEL_ID={{DISCORD_CHAT_CHANNEL_ID}}

# ============================================================================
# SECTION 3: MINECRAFT
# Configuration du serveur Minecraft
# ============================================================================

# Version du serveur Minecraft
# Exemples: 1.20.4, 1.21, latest
MINECRAFT_VERSION={{MINECRAFT_VERSION}}

# Type de serveur
# Valeurs possibles: VANILLA, PAPER, SPIGOT, FABRIC, FORGE, PURPUR
# - VANILLA: serveur officiel Mojang
# - PAPER: fork optimisé de Spigot (recommandé)
# - SPIGOT: serveur avec support plugins Bukkit
# - FABRIC: serveur avec support mods Fabric
# - FORGE: serveur avec support mods Forge
# - PURPUR: fork de Paper avec plus d'options
MINECRAFT_TYPE={{MINECRAFT_TYPE}}

# Mot de passe RCON (Remote Console)
# Utilisé pour envoyer des commandes au serveur depuis le bot/panel
# Généré automatiquement si non spécifié - minimum 16 caractères recommandé
RCON_PASSWORD={{RCON_PASSWORD}}

# Port RCON (communication interne Docker)
RCON_PORT={{RCON_PORT}}

# Port du serveur Minecraft (connexion des joueurs)
# Port par défaut: 25565
MINECRAFT_PORT={{MINECRAFT_PORT}}

# Port Query (pour les requêtes de statut)
# Utilisé par les sites de monitoring et le bot
MINECRAFT_QUERY_PORT={{MINECRAFT_QUERY_PORT}}

# Mémoire RAM minimale allouée au serveur
# Format: nombre suivi de G (gigaoctets) ou M (mégaoctets)
# Exemple: 2G, 4G, 512M
MINECRAFT_MEMORY_MIN={{MINECRAFT_MEMORY_MIN}}

# Mémoire RAM maximale allouée au serveur
# Recommandé: au moins 4G pour un serveur avec plugins
# Ne pas dépasser 70% de la RAM totale du système
MINECRAFT_MEMORY_MAX={{MINECRAFT_MEMORY_MAX}}

# Nombre maximum de joueurs simultanés
MINECRAFT_MAX_PLAYERS={{MINECRAFT_MAX_PLAYERS}}

# Message affiché dans la liste des serveurs
MINECRAFT_MOTD={{MINECRAFT_MOTD}}

# Mode de jeu par défaut
# Valeurs: survival, creative, adventure, spectator
MINECRAFT_GAMEMODE={{MINECRAFT_GAMEMODE}}

# Difficulté du serveur
# Valeurs: peaceful, easy, normal, hard
MINECRAFT_DIFFICULTY={{MINECRAFT_DIFFICULTY}}

# Activer le mode en ligne (vérification des comptes Mojang)
# true: seuls les comptes légitimes peuvent se connecter
# false: serveur crack (non recommandé)
MINECRAFT_ONLINE_MODE={{MINECRAFT_ONLINE_MODE}}

# Activer le PvP (combat entre joueurs)
MINECRAFT_PVP={{MINECRAFT_PVP}}

# Distance de rendu en chunks (16x16 blocs)
# Valeur recommandée: 10-12 pour les performances
MINECRAFT_VIEW_DISTANCE={{MINECRAFT_VIEW_DISTANCE}}

# Distance de simulation en chunks
# Affecte les mobs, redstone, etc. hors du joueur
MINECRAFT_SIMULATION_DISTANCE={{MINECRAFT_SIMULATION_DISTANCE}}

# Seed du monde (laisser vide pour génération aléatoire)
MINECRAFT_SEED={{MINECRAFT_SEED}}

# Nom du monde
MINECRAFT_LEVEL_NAME={{MINECRAFT_LEVEL_NAME}}

# Type de monde
# Valeurs: DEFAULT, FLAT, LARGEBIOMES, AMPLIFIED
MINECRAFT_LEVEL_TYPE={{MINECRAFT_LEVEL_TYPE}}

# Activer les structures (villages, temples, etc.)
MINECRAFT_GENERATE_STRUCTURES={{MINECRAFT_GENERATE_STRUCTURES}}

# Activer le Nether
MINECRAFT_ALLOW_NETHER={{MINECRAFT_ALLOW_NETHER}}

# Activer l'End
MINECRAFT_ALLOW_END={{MINECRAFT_ALLOW_END}}

# Spawn protection (rayon en blocs autour du spawn)
# 0 pour désactiver
MINECRAFT_SPAWN_PROTECTION={{MINECRAFT_SPAWN_PROTECTION}}

# Arguments JVM supplémentaires pour optimisation
# Laisser vide pour utiliser les valeurs par défaut
MINECRAFT_JVM_OPTS={{MINECRAFT_JVM_OPTS}}

# ============================================================================
# SECTION 4: POSTGRESQL
# Configuration de la base de données PostgreSQL
# ============================================================================

# Nom d'utilisateur PostgreSQL
# Éviter "postgres" en production pour des raisons de sécurité
POSTGRES_USER={{POSTGRES_USER}}

# Mot de passe PostgreSQL
# Minimum 16 caractères, avec majuscules, minuscules, chiffres et symboles
POSTGRES_PASSWORD={{POSTGRES_PASSWORD}}

# Nom de la base de données
POSTGRES_DB={{POSTGRES_DB}}

# Port PostgreSQL
# Port par défaut: 5432
# Changer si un autre service utilise déjà ce port
POSTGRES_PORT={{POSTGRES_PORT}}

# Hôte PostgreSQL (nom du service Docker)
POSTGRES_HOST={{POSTGRES_HOST}}

# URL de connexion complète (générée automatiquement)
# Format: postgresql://user:password@host:port/database
DATABASE_URL={{DATABASE_URL}}

# Nombre maximum de connexions simultanées
POSTGRES_MAX_CONNECTIONS={{POSTGRES_MAX_CONNECTIONS}}

# ============================================================================
# SECTION 5: REDIS
# Configuration du cache Redis
# ============================================================================

# Mot de passe Redis
# Laisser vide pour désactiver l'authentification (non recommandé en production)
REDIS_PASSWORD={{REDIS_PASSWORD}}

# Port Redis
# Port par défaut: 6379
REDIS_PORT={{REDIS_PORT}}

# Hôte Redis (nom du service Docker)
REDIS_HOST={{REDIS_HOST}}

# URL de connexion Redis complète
# Format: redis://:password@host:port ou redis://host:port (sans auth)
REDIS_URL={{REDIS_URL}}

# Taille maximale de la mémoire Redis
# Exemple: 256mb, 512mb, 1gb
REDIS_MAXMEMORY={{REDIS_MAXMEMORY}}

# Politique d'éviction quand la mémoire est pleine
# Valeurs: noeviction, allkeys-lru, volatile-lru, allkeys-random, volatile-random, volatile-ttl
REDIS_MAXMEMORY_POLICY={{REDIS_MAXMEMORY_POLICY}}

# ============================================================================
# SECTION 6: WEB
# Configuration du panel web et de l'authentification
# ============================================================================

# Secret pour NextAuth.js (sessions et tokens JWT)
# Générer avec: openssl rand -base64 32
# ATTENTION: Ne jamais partager cette valeur !
NEXTAUTH_SECRET={{NEXTAUTH_SECRET}}

# URL de base du panel web
# En développement: http://localhost:3000
# En production: https://panel.votredomaine.com
NEXTAUTH_URL={{NEXTAUTH_URL}}

# Clé API interne pour la communication entre services
# Utilisée pour sécuriser les appels entre le bot et le panel
INTERNAL_API_KEY={{INTERNAL_API_KEY}}

# Port du panel web
WEB_PORT={{WEB_PORT}}

# Activer HTTPS (géré par le reverse proxy en production)
WEB_HTTPS={{WEB_HTTPS}}

# Durée de session en secondes (par défaut: 7 jours)
SESSION_MAX_AGE={{SESSION_MAX_AGE}}

# URL de l'API backend
API_URL={{API_URL}}

# Activer le mode debug du panel (affiche les erreurs détaillées)
WEB_DEBUG={{WEB_DEBUG}}

# ============================================================================
# SECTION 7: BACKUP
# Configuration des sauvegardes automatiques
# ============================================================================

# Activer les sauvegardes automatiques
BACKUP_ENABLED={{BACKUP_ENABLED}}

# Intervalle entre les sauvegardes (en heures)
BACKUP_INTERVAL={{BACKUP_INTERVAL}}

# Nombre de sauvegardes à conserver
# Les plus anciennes seront supprimées automatiquement
BACKUP_RETENTION={{BACKUP_RETENTION}}

# Chemin local pour stocker les sauvegardes
# Utiliser un chemin absolu
BACKUP_PATH={{BACKUP_PATH}}

# Chemin du monde Minecraft à sauvegarder
BACKUP_WORLD_PATH={{BACKUP_WORLD_PATH}}

# Compresser les sauvegardes (recommandé)
BACKUP_COMPRESSION={{BACKUP_COMPRESSION}}

# Niveau de compression (1-9, 9 = max compression, plus lent)
BACKUP_COMPRESSION_LEVEL={{BACKUP_COMPRESSION_LEVEL}}

# Sauvegardes distantes (optionnel)
# Service de stockage cloud: s3, gcs, azure, none
BACKUP_REMOTE_TYPE={{BACKUP_REMOTE_TYPE}}

# Bucket/Container pour le stockage distant
BACKUP_REMOTE_BUCKET={{BACKUP_REMOTE_BUCKET}}

# Région du service cloud
BACKUP_REMOTE_REGION={{BACKUP_REMOTE_REGION}}

# Clé d'accès pour le stockage distant
BACKUP_REMOTE_ACCESS_KEY={{BACKUP_REMOTE_ACCESS_KEY}}

# Clé secrète pour le stockage distant
BACKUP_REMOTE_SECRET_KEY={{BACKUP_REMOTE_SECRET_KEY}}

# Inclure la base de données dans les sauvegardes
BACKUP_INCLUDE_DATABASE={{BACKUP_INCLUDE_DATABASE}}

# Inclure les logs dans les sauvegardes
BACKUP_INCLUDE_LOGS={{BACKUP_INCLUDE_LOGS}}

# Notification Discord après chaque sauvegarde
BACKUP_DISCORD_NOTIFY={{BACKUP_DISCORD_NOTIFY}}

# ============================================================================
# SECTION 8: MONITORING
# Configuration du monitoring et des alertes
# ============================================================================

# Activer le monitoring
MONITORING_ENABLED={{MONITORING_ENABLED}}

# Intervalle de collecte des métriques (en secondes)
MONITORING_INTERVAL={{MONITORING_INTERVAL}}

# === Seuils d'alerte TPS (Ticks Per Second) ===
# Le TPS idéal est 20. En dessous de 20, le serveur ralentit.

# Seuil d'avertissement TPS (alerte jaune)
# Recommandé: 18-19
ALERT_TPS_WARNING={{ALERT_TPS_WARNING}}

# Seuil critique TPS (alerte rouge)
# En dessous de ce seuil, le serveur a des problèmes graves
# Recommandé: 15-16
ALERT_TPS_CRITICAL={{ALERT_TPS_CRITICAL}}

# === Seuils d'alerte RAM ===
# Pourcentage d'utilisation de la mémoire allouée au serveur

# Seuil d'avertissement RAM (%)
ALERT_RAM_WARNING={{ALERT_RAM_WARNING}}

# Seuil critique RAM (%)
ALERT_RAM_CRITICAL={{ALERT_RAM_CRITICAL}}

# === Seuils d'alerte CPU ===
# Pourcentage d'utilisation CPU

# Seuil d'avertissement CPU (%)
ALERT_CPU_WARNING={{ALERT_CPU_WARNING}}

# Seuil critique CPU (%)
ALERT_CPU_CRITICAL={{ALERT_CPU_CRITICAL}}

# === Seuils d'alerte disque ===
# Pourcentage d'utilisation de l'espace disque

# Seuil d'avertissement disque (%)
ALERT_DISK_WARNING={{ALERT_DISK_WARNING}}

# Seuil critique disque (%)
ALERT_DISK_CRITICAL={{ALERT_DISK_CRITICAL}}

# === Seuils d'alerte joueurs ===
# Nombre de joueurs connectés

# Seuil d'avertissement joueurs (proche du max)
ALERT_PLAYERS_WARNING={{ALERT_PLAYERS_WARNING}}

# === Configuration des notifications ===

# Canal Discord pour les alertes de monitoring
MONITORING_ALERT_CHANNEL_ID={{MONITORING_ALERT_CHANNEL_ID}}

# Mentionner un rôle lors des alertes critiques
MONITORING_MENTION_ROLE_ID={{MONITORING_MENTION_ROLE_ID}}

# Cooldown entre les alertes identiques (en minutes)
# Évite le spam d'alertes répétitives
MONITORING_ALERT_COOLDOWN={{MONITORING_ALERT_COOLDOWN}}

# Activer les alertes par email (nécessite configuration SMTP)
MONITORING_EMAIL_ENABLED={{MONITORING_EMAIL_ENABLED}}

# Email de destination pour les alertes
MONITORING_EMAIL_TO={{MONITORING_EMAIL_TO}}

# === Rétention des métriques ===

# Durée de conservation des métriques détaillées (en jours)
METRICS_RETENTION_DETAILED={{METRICS_RETENTION_DETAILED}}

# Durée de conservation des métriques agrégées (en jours)
METRICS_RETENTION_AGGREGATED={{METRICS_RETENTION_AGGREGATED}}

# ============================================================================
# FIN DU FICHIER DE CONFIGURATION
# ============================================================================
# Pour générer un fichier .env à partir de ce template, exécutez:
#   ./scripts/setup.sh
#
# Pour valider votre configuration:
#   ./scripts/validate-env.sh
# ============================================================================
